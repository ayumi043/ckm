var SWFUpload;"function"==typeof SWFUpload&&(SWFUpload.proxyDetect={},SWFUpload.UPLOAD_ERROR.PROXY=-30300,SWFUpload.prototype.initSettings=function(e){return function(t){"function"==typeof e&&e.call(this,t),this.ensureDefault=function(e,n){this.settings[e]=void 0==t[e]?n:t[e]},this.proxyDetectFileStartTimes={},this.proxyDetectSettings={},this.ensureDefault("proxy_detect_threshold",256e3),this.proxyDetectSettings.user_upload_progress_handler=this.settings.upload_progress_handler,this.proxyDetectSettings.user_upload_complete_handler=this.settings.upload_complete_handler,this.settings.upload_progress_handler=SWFUpload.proxyDetect.uploadProgressHandler,this.settings.upload_complete_handler=SWFUpload.proxyDetect.uploadCompleteHandler,delete this.ensureDefault}}(SWFUpload.prototype.initSettings),SWFUpload.proxyDetect.uploadProgressHandler=function(e,t,n){var i,o,r,a=null;try{"function"==typeof this.proxyDetectSettings.user_upload_progress_handler&&this.proxyDetectSettings.user_upload_progress_handler.call(this,e,t,n)}catch(a){}if(0===t)this.proxyDetectFileStartTimes[e.ID]=new Date;else if(t===n)try{i=new Date,o=i.getTime()-this.proxyDetectFileStartTimes[e.ID].getTime(),0===o&&(o=1),r=n/(1e3*o),r>parseInt(this.settings.proxy_detect_threshold,10)&&this.queueEvent("upload_error_handler",[e,SWFUpload.UPLOAD_ERROR.PROXY,r])}catch(s){}if(null!==a)throw a},SWFUpload.proxyDetect.uploadCompleteHandler=function(e){try{delete this.proxyDetectFileStartTimes[e.ID]}catch(t){}return"function"==typeof this.proxyDetectSettings.user_upload_progress_handler?this.proxyDetectSettings.user_upload_progress_handler.call(this,e):void 0});