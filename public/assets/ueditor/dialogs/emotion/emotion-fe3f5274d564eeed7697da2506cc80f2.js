function initImgName(){for(var e in emotion.SmilmgName){var t=emotion.SmilmgName[e],i=emotion.SmileyBox[e],n="";if(i.length)return;for(var o=1;t[1]>=o;o++)n=t[0],10>o&&(n+="0"),n=n+o+".gif",i.push(n)}}function initEvtHandler(e){for(var t=$G(e),i=0,n=0;t.childNodes.length>i;i++){var o=t.childNodes[i];1==o.nodeType&&(domUtils.on(o,"click",function(e){return function(){switchTab(e)}}(n)),n++)}switchTab(0),$G("tabIconReview").style.display="none"}function InsertSmiley(e,t){var i={src:editor.options.emotionLocalization?editor.options.UEDITOR_HOME_URL+"dialogs/emotion/"+e:e};i.data_ue_src=i.src,editor.execCommand("insertimage",i),t.ctrlKey||dialog.popup.hide()}function switchTab(e){autoHeight(e),0==emotion.tabExist[e]&&(emotion.tabExist[e]=1,createTab("tab"+e));for(var t=$G("tabHeads").getElementsByTagName("span"),i=$G("tabBodys").getElementsByTagName("div"),n=0,o=t.length;o>n;n++)t[n].className="",i[n].style.display="none";t[e].className="focus",i[e].style.display="block"}function autoHeight(e){var t=dialog.getDom("iframe"),i=t.parentNode.parentNode;switch(e){case 0:t.style.height="380px",i.style.height="392px";break;case 1:t.style.height="220px",i.style.height="232px";break;case 2:t.style.height="260px",i.style.height="272px";break;case 3:t.style.height="300px",i.style.height="312px";break;case 4:t.style.height="140px",i.style.height="152px";break;case 5:t.style.height="260px",i.style.height="272px";break;case 6:t.style.height="230px",i.style.height="242px";break;default:}}function createTab(e){for(var t,i,n,o,r,a,s="?v=1.1",l=$G(e),d=emotion.SmileyPath+emotion.imageFolders[e],c=5.5,u=iHeight=35,m=3,C=emotion.imageCss[e],h=emotion.imageCssOffset[e],f=['<table class="smileytable">'],E=0,p=emotion.SmileyBox[e].length,g=11;p>E;){f.push("<tr>");for(var B=0;g>B;B++,E++)t=emotion.SmileyBox[e][E],t?(i=d+t+s,n=d+t,o=c>B?0:1,r=-1*h*E-1,a=emotion.SmileyInfor[e][E],f.push('<td  class="'+C+'"   border="1" width="'+m+'%" style="border-collapse:collapse;" align="center"  bgcolor="transparent" onclick="InsertSmiley(\''+n.replace(/'/g,"\\'")+"',event)\" onmouseover=\"over(this,'"+i+"','"+o+'\')" onmouseout="out(this)">'),f.push("<span>"),f.push('<img  style="background-position:left '+r+'px;" title="'+a+'" src="'+emotion.SmileyPath+(editor.options.emotionLocalization?'0.gif" width="':'default/0.gif" width="')+u+'" height="'+iHeight+'"></img>'),f.push("</span>")):f.push('<td width="'+m+'%"   bgcolor="#FFFFFF">'),f.push("</td>");f.push("</tr>")}f.push("</table>"),f=f.join(""),l.innerHTML=f}function over(e,t,i){e.style.backgroundColor="#ACCD3C",$G("faceReview").style.backgroundImage="url("+t+")",1==i&&($G("tabIconReview").className="show"),$G("tabIconReview").style.display="block"}function out(e){e.style.backgroundColor="transparent";var t=$G("tabIconReview");t.className="",t.style.display="none"}function createTabList(e){for(var t={},i=0;e>i;i++)t["tab"+i]=[];return t}function createArr(e){for(var t=[],i=0;e>i;i++)t[i]=0;return t}window.onload=function(){editor.setOpt({emotionLocalization:!1}),emotion.SmileyPath=editor.options.emotionLocalization===!0?"images/":"http://img.baidu.com/hi/",emotion.SmileyBox=createTabList(emotion.tabNum),emotion.tabExist=createArr(emotion.tabNum),initImgName(),initEvtHandler("tabHeads")};